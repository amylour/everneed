<script>
   // Scroll back to top button  credit -> https://devdevshow.com/back-to-top-button-scroll-button-css/
   // Get the button element
    const scrollToTopBtn = document.getElementById('bttBtn');

    // Attach a scroll event listener to the window
    window.onscroll = function () {
        scrollFunction();
    };

    function scrollFunction() {
        // Check if the user has scrolled more than 20 pixels from the top
         if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            scrollToTopBtn.style.opacity = '1';
            scrollToTopBtn.style.visibility = 'visible';
        } else {
            scrollToTopBtn.style.opacity = '0';
            scrollToTopBtn.style.visibility = 'hidden';
        }
    }

    // Function to scroll to the top
    function topFunction() {
        // For Safari
        document.body.scrollTop = 0;

        // For Chrome, Firefox, IE, and Opera
        document.documentElement.scrollTop = 0;
    }

    scrollToTopBtn.onclick = function () {
            topFunction(); // Call the topFunction to scroll to the top
        };

    // sort products by -
    $('#sort-selector').change(function () {
        var selector = $(this);
        var currentUrl = new URL(window.location);

        var selectedVal = selector.val();
        if(selectedVal != "reset"){
            var sort = selectedVal.split("_")[0];
            var direction = selectedVal.split("_")[1];

            currentUrl.searchParams.set("sort", sort);
            currentUrl.searchParams.set("direction", direction);

            window.location.replace(currentUrl);
        } else {
            currentUrl.searchParams.delete("sort");
            currentUrl.searchParams.delete("direction");

            window.location.replace(currentUrl);
        }
    });
</script>